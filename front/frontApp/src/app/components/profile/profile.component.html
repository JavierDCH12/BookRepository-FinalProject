<div class="profile-container">
  <div class="profile-card">

    <!-- ğŸ–¼ï¸ Imagen de Perfil -->
    <div class="profile-header">
      <img [src]="'http://127.0.0.1:8000' + userProfile?.profile_picture" alt="Profile Picture">
      <label for="fileInput" class="upload-label">
        ğŸ“‚ Cambiar foto
      </label>
      <input type="file" id="fileInput" (change)="onFileSelected($event)" hidden>
    </div>

    <!-- âœ¨ InformaciÃ³n bÃ¡sica -->
    <div class="profile-info">
      <h2 *ngIf="!editMode">{{ userProfile?.username }}</h2>
      <input class="input-edit" *ngIf="editMode" [(ngModel)]="editedProfile.username" placeholder="Username">

      <p class="email" *ngIf="!editMode">ğŸ“§ {{ userProfile?.email }}</p>
      <input class="input-edit" *ngIf="editMode" [(ngModel)]="editedProfile.email" placeholder="Email">
    </div>

    <!-- ğŸ“Œ Detalles del perfil -->
    <div class="profile-details">
      <div class="detail-item">
        <span class="label">ğŸ“ Nombre:</span>
        <span *ngIf="!editMode">{{ userProfile?.first_name || 'â€”' }}</span>
        <input class="input-edit" *ngIf="editMode" [(ngModel)]="editedProfile.first_name" placeholder="Nombre">
      </div>

      <div class="detail-item">
        <span class="label">ğŸ“ Apellidos:</span>
        <span *ngIf="!editMode">{{ userProfile?.last_name || 'â€”' }}</span>
        <input class="input-edit" *ngIf="editMode" [(ngModel)]="editedProfile.last_name" placeholder="Apellidos">
      </div>

      <div class="detail-item" *ngIf="editMode">
        <span class="label">ğŸ”‘ Nueva contraseÃ±a:</span>
        <input class="input-edit" type="password" [(ngModel)]="editedProfile.password" placeholder="ContraseÃ±a">
      </div>

      <div class="detail-item">
        <span class="label">ğŸ“… Miembro desde:</span>
        <span>{{ userProfile?.register_date | date: 'dd/MM/yyyy' }}</span>
      </div>
    </div>

    <!-- âš™ï¸ Botones de acciÃ³n -->
    <div class="profile-actions">
      <button *ngIf="!editMode" class="edit-btn" (click)="toggleEditMode()">âœï¸ Editar Perfil</button>
      <button *ngIf="editMode" class="save-btn" (click)="saveProfileChanges()">ğŸ’¾ Guardar Cambios</button>
      <button class="back-btn" (click)="navigateToHome()">ğŸ  Inicio</button>
    </div>

  </div>
</div>
