<div class="profile-container">
  <div class="profile-card">
    
    <!-- 🖼️ Foto de perfil y carga -->
    <div class="profile-picture">
      <img [src]="'http://127.0.0.1:8000' + userProfile?.profile_picture"
           alt="Profile Picture">
    </div>

    <!-- 📤 Subir nueva imagen -->
    <div class="upload-section">
      <input type="file" id="fileInput" (change)="onFileSelected($event)" style="display: none;">
      <label for="fileInput" class="file-label">📂 Choose profile</label>
    </div>

    <!-- 🏷️ Información del usuario -->
    <div class="profile-info">
      <h2 *ngIf="!editMode">{{ userProfile?.username }}</h2>
      <input *ngIf="editMode" [(ngModel)]="editedProfile.username" placeholder="Username">

      <p class="email">📧 <span *ngIf="!editMode">{{ userProfile?.email }}</span></p>
      <input *ngIf="editMode" [(ngModel)]="editedProfile.email" placeholder="Email">
    </div>

    <!-- 📅 Información detallada -->
    <div class="profile-details">
      <div class="detail-item">
        <span class="label">📝 First Name:</span>
        <span *ngIf="!editMode">{{ userProfile?.first_name || 'Not set' }}</span>
        <input *ngIf="editMode" [(ngModel)]="editedProfile.first_name" placeholder="First Name">
      </div>

      <div class="detail-item">
        <span class="label">📝 Last Name:</span>
        <span *ngIf="!editMode">{{ userProfile?.last_name || 'Not set' }}</span>
        <input *ngIf="editMode" [(ngModel)]="editedProfile.last_name" placeholder="Last Name">
      </div>

      <div class="detail-item">
        <span class="label">🔒 New Password:</span>
        <input *ngIf="editMode" type="password" [(ngModel)]="editedProfile.password" placeholder="New Password">
      </div>

      <div class="detail-item">
        <span class="label">📅 Member since:</span>
        <span class="value">{{ userProfile?.register_date | date: 'longDate' }}</span>
      </div>
    </div>

    <!-- 🔧 Acciones de perfil -->
    <div class="profile-actions">
      <button *ngIf="!editMode" (click)="toggleEditMode()" class="edit-profile-btn">✏️ Edit Profile</button>
      <button *ngIf="editMode" (click)="saveProfileChanges()" class="save-profile-btn">💾 Save Changes</button>
      <button class="home-button" (click)="navigateToHome()">🏠 Back to Home</button>
    </div>

  </div>
</div>
